/**
 * moedit CSS v1
 * -----------------------------------
 * Dark mode: prefers-color-scheme, data-theme, data-bs-theme дэмжинэ.
 */

:root{
  --mo-border:#dee2e6;
  --mo-bg:#fff;
  --mo-soft:#f8f9fa;
  --mo-text:#212529;
  --mo-primary:#0d6efd;
  --mo-primary-hover:#0b5ed7;
  --mo-shadow:0 0.125rem 0.25rem rgba(0,0,0,.075);
  --mo-shadow-lg:0 0.5rem 1rem rgba(0,0,0,.15);
  --mo-radius:0.375rem;
  --mo-btn-bg:#fff;
  --mo-btn-hover:#e9ecef;
  --mo-source-bg:#f8f9fa;
  --mo-source-focus:#fff;
  --mo-placeholder:#6c757d;
  /* Color utilities */
  --mo-success:#198754;
  --mo-danger:#dc3545;
  --mo-warning:#ffc107;
  --mo-info:#0dcaf0;
}

/* Dark mode - system preference */
@media (prefers-color-scheme:dark){
  :root{
    --mo-border:#495057;
    --mo-bg:#212529;
    --mo-soft:#343a40;
    --mo-text:#e9ecef;
    --mo-primary:#3d8bfd;
    --mo-primary-hover:#6ea8fe;
    --mo-shadow:0 0.125rem 0.25rem rgba(0,0,0,.25);
    --mo-shadow-lg:0 0.5rem 1rem rgba(0,0,0,.35);
    --mo-btn-bg:#343a40;
    --mo-btn-hover:#495057;
    --mo-source-bg:#2b3035;
    --mo-source-focus:#343a40;
    --mo-placeholder:#adb5bd;
    --mo-success:#75b798;
    --mo-danger:#ea868f;
    --mo-warning:#ffda6a;
    --mo-info:#6edff6;
  }
}

/* Dark mode - data attribute */
[data-bs-theme="dark"],
[data-theme="dark"]{
  --mo-border:#495057;
  --mo-bg:#212529;
  --mo-soft:#343a40;
  --mo-text:#e9ecef;
  --mo-primary:#3d8bfd;
  --mo-primary-hover:#6ea8fe;
  --mo-shadow:0 0.125rem 0.25rem rgba(0,0,0,.25);
  --mo-shadow-lg:0 0.5rem 1rem rgba(0,0,0,.35);
  --mo-btn-bg:#343a40;
  --mo-btn-hover:#495057;
  --mo-source-bg:#2b3035;
  --mo-source-focus:#343a40;
  --mo-placeholder:#adb5bd;
  --mo-success:#75b798;
  --mo-danger:#ea868f;
  --mo-warning:#ffda6a;
  --mo-info:#6edff6;
}

/* Dark mode - toolbar & button өнгө */
@media (prefers-color-scheme:dark){
  .moedit-toolbar{background:#2b3035;border-bottom-color:#555b61;}
  .moedit-btn{background:#3a4046;border-color:#555b61;}
  .moedit-btn:hover{background-color:#454c52;border-color:#60666c;}
  .moedit-sep{border-left-color:#555b61;}
  .moedit-header-image{background-color:#2a2a2a;background-image:linear-gradient(45deg,#333 25%,transparent 25%,transparent 75%,#333 75%),linear-gradient(45deg,#333 25%,transparent 25%,transparent 75%,#333 75%);}
}
[data-bs-theme="dark"] .moedit-toolbar,
[data-theme="dark"] .moedit-toolbar{background:#2b3035;border-bottom-color:#555b61;}
[data-bs-theme="dark"] .moedit-btn,
[data-theme="dark"] .moedit-btn{background:#3a4046;border-color:#555b61;}
[data-bs-theme="dark"] .moedit-btn:hover,
[data-theme="dark"] .moedit-btn:hover{background-color:#454c52;border-color:#60666c;}
[data-bs-theme="dark"] .moedit-sep,
[data-theme="dark"] .moedit-sep{border-left-color:#555b61;}
[data-bs-theme="dark"] .moedit-header-image,
[data-theme="dark"] .moedit-header-image{background-color:#2a2a2a;background-image:linear-gradient(45deg,#333 25%,transparent 25%,transparent 75%,#333 75%),linear-gradient(45deg,#333 25%,transparent 25%,transparent 75%,#333 75%);}

/* Color utility classes for buttons */
.moedit-btn.mo-primary{ color:var(--mo-primary); }
.moedit-btn.mo-success{ color:var(--mo-success); }
.moedit-btn.mo-danger{ color:var(--mo-danger); }
.moedit-btn.mo-warning{ color:var(--mo-warning); }
.moedit-btn.mo-info{ color:var(--mo-info); }

.moedit{
  border:1px solid var(--mo-border);
  border-radius:var(--mo-radius);
  overflow:hidden;
  background:var(--mo-bg);
  color:var(--mo-text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  box-shadow:var(--mo-shadow);
}

.moedit-toolbar{
  display:flex;
  flex-wrap:wrap;
  gap:0.25rem;
  align-items:center;
  padding:0.5rem;
  background:#e2e6ea;
  border-bottom:1px solid #ced4da;
}

.moedit-group{ 
  display:flex; 
  gap:0.25rem; 
  align-items:center; 
}

.moedit-optimize{
  display:inline-flex;
  align-items:center;
  gap:0.375rem;
  font-size:0.75rem;
  color:var(--mo-text);
  cursor:pointer;
  user-select:none;
  padding:0 0.375rem;
  height:2rem;
  white-space:nowrap;
}
.moedit-optimize input[type="checkbox"]{
  margin:0;
  cursor:pointer;
}

.moedit-btn{
  appearance:none;
  border:1px solid #ced4da;
  background:#fff;
  color:var(--mo-text);
  padding:0.375rem 0.75rem;
  border-radius:var(--mo-radius);
  cursor:pointer;
  font-size:0.875rem;
  line-height:1.5;
  user-select:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:0.375rem;
  transition:all 0.15s ease-in-out;
  min-width:2rem;
  height:2rem;
}
.moedit-btn:hover{
  background-color:#f0f1f3;
  border-color:#bbc0c5;
  transform:translateY(-1px);
  box-shadow:var(--mo-shadow);
}
.moedit-btn:active{ 
  transform:translateY(0);
  box-shadow:none;
}
.moedit-btn[disabled]{ 
  opacity:0.65; 
  cursor:not-allowed;
  pointer-events:none;
}
.moedit-btn[aria-pressed="true"]{ 
  background-color:var(--mo-primary);
  color:#fff;
  border-color:var(--mo-primary);
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.25);
}
.moedit-btn[aria-pressed="true"]:hover{
  background-color:var(--mo-primary-hover);
  border-color:var(--mo-primary-hover);
}
.moedit-btn[aria-pressed="true"] i,
.moedit-btn[aria-pressed="true"] .bi{
  color:#fff !important;
}

/* Keyboard focus styles */
.moedit-btn:focus{
  outline:none;
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.5);
  z-index:1;
  position:relative;
}
.moedit-btn:focus:not(:focus-visible){
  box-shadow:var(--mo-shadow);
}
.moedit-btn:focus-visible{
  outline:none;
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.5);
}
.moedit-btn strong,
.moedit-btn em,
.moedit-btn u,
.moedit-btn s{
  font-weight:inherit;
  font-style:inherit;
  text-decoration:inherit;
  line-height:inherit;
}
.moedit-btn sub,
.moedit-btn sup{
  font-size:0.7em;
  line-height:0;
  position:relative;
  vertical-align:baseline;
}
.moedit-btn sub{
  bottom:-0.25em;
}
.moedit-btn sup{
  top:-0.5em;
}

.moedit-select{
  border:1px solid var(--mo-border);
  background:var(--mo-btn-bg);
  color:var(--mo-text);
  border-radius:var(--mo-radius);
  padding:0.375rem 0.75rem;
  font-size:0.875rem;
  cursor:pointer;
  transition:all 0.15s ease-in-out;
  min-width:4rem;
  height:2rem;
}
.moedit-select:hover{
  background-color:var(--mo-btn-hover);
  border-color:var(--mo-border);
}
.moedit-color{
  border:1px solid var(--mo-border);
  border-radius:var(--mo-radius);
  padding:0;
  cursor:pointer;
  width:2rem;
  height:2rem;
  transition:all 0.15s ease-in-out;
}
.moedit-color:hover{
  border-color:var(--mo-border);
  box-shadow:var(--mo-shadow);
}
.moedit-color:focus{
  outline:none;
  border-color:var(--mo-primary);
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.5);
}
/* List select - энгийн горимд нуух, зөвхөн right toolbar-д харуулах */
.moedit-list-select{
  display:none;
}
.moedit-select:focus{
  outline:none;
  border-color:var(--mo-primary);
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.5);
  z-index:1;
  position:relative;
}

.moedit-sep{
  width:0;
  height:1.5rem;
  background:transparent;
  border-left:1px solid #ced4da;
  margin:0 0.375rem;
  flex-shrink:0;
  box-sizing:border-box;
}
/* Readonly горимд бүх separator нуух */
.moedit.moedit-readonly .moedit-sep{
  display:none !important;
}

.moedit-body{
  position:relative;
  min-height:300px;
  max-height:600px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
}

.moedit-editor{
  padding:1rem;
  min-height:300px;
  outline:none;
  line-height:1.6;
  flex:1;
}
.moedit-editor:focus{
  outline:none;
}
.moedit-editor:empty:before{
  content:attr(data-placeholder);
  color:var(--mo-placeholder);
  pointer-events:none;
}
.moedit-editor img{
  max-width:100%;
  height:auto;
}
.moedit-editor table{
  width:100%;
  border-collapse:collapse;
  margin:1rem 0;
}
.moedit-editor table td,
.moedit-editor table th{
  padding:0.5rem;
  border:1px solid var(--mo-border);
}
.moedit-editor blockquote{
  margin:1rem 0;
  padding:0.75rem 1rem;
  border-left:4px solid var(--mo-primary);
  background:var(--mo-soft);
  border-radius:0 var(--mo-radius) var(--mo-radius) 0;
  font-style:italic;
  color:var(--mo-text);
}
.moedit-editor pre{
  margin:1rem 0;
  padding:1rem;
  background:var(--mo-soft);
  border:1px solid var(--mo-border);
  border-radius:var(--mo-radius);
  font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono",monospace;
  font-size:0.875rem;
  overflow-x:auto;
  white-space:pre-wrap;
  word-wrap:break-word;
}

.moedit-source{
  display:none;
  width:100%;
  border:0;
  resize:vertical;
  padding:1rem;
  min-height:300px;
  font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono",monospace;
  font-size:0.875rem;
  outline:none;
  line-height:1.6;
  background:var(--mo-source-bg);
  color:var(--mo-text);
}
.moedit-source:focus{
  outline:none;
  background:var(--mo-source-focus);
}

.moedit.is-source .moedit-editor{ display:none; }
.moedit.is-source .moedit-source{ display:block; flex:1; }

/* Attachments */
.moedit-attachments{
  border-top:1px solid var(--mo-border);
  background:var(--mo-bg);
  max-height:250px;
  overflow-y:auto;
}
.moedit-attachments table{
  width:100%;
  border-collapse:collapse;
  font-size:0.8125rem;
}
.moedit-attachments thead{
  position:sticky;
  top:0;
  background:var(--mo-soft);
  z-index:1;
}
.moedit-attachments th{
  padding:0.375rem 0.5rem;
  font-weight:600;
  font-size:0.6875rem;
  text-transform:uppercase;
  letter-spacing:0.5px;
  color:var(--mo-placeholder);
  border-bottom:1px solid var(--mo-border);
}
.moedit-attachments td{
  padding:0.3125rem 0.5rem;
  border-bottom:1px solid var(--mo-border);
  vertical-align:middle;
}
.moedit-attachments tr:last-child td{
  border-bottom:none;
}
.moedit-attach-link{
  color:var(--mo-primary);
  text-decoration:none;
  font-weight:500;
}
.moedit-attach-link:hover{
  text-decoration:underline;
}
.moedit-attach-remove{
  appearance:none;
  border:none;
  background:none;
  color:var(--mo-danger);
  cursor:pointer;
  padding:0 0.25rem;
  font-size:0.75rem;
  opacity:0.6;
  margin-left:0.375rem;
  vertical-align:middle;
}
.moedit-attach-remove:hover{
  opacity:1;
}
.moedit-attach-type{
  display:inline-block;
  font-size:0.6875rem;
  padding:0.125rem 0.375rem;
  border-radius:var(--mo-radius);
  background:var(--mo-soft);
  color:var(--mo-placeholder);
  margin-right:0.25rem;
}
.moedit-attach-size{
  font-size:0.6875rem;
  color:var(--mo-placeholder);
}
.moedit-attach-desc{
  width:100%;
  border:1px solid transparent;
  background:transparent;
  color:var(--mo-text);
  font-size:0.8125rem;
  padding:0.125rem 0.25rem;
  border-radius:var(--mo-radius);
  outline:none;
}
.moedit-attach-desc:hover{
  border-color:var(--mo-border);
}
.moedit-attach-desc:focus{
  border-color:var(--mo-primary);
  background:var(--mo-bg);
  box-shadow:0 0 0 0.15rem rgba(13,110,253,.2);
}
.moedit-attach-spinner{
  display:inline-flex;
  align-items:center;
}
.moedit-spin{
  animation:moedit-spin-anim 1s linear infinite;
}
@keyframes moedit-spin-anim{
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}

/* Fullscreen */
.moedit.is-fullscreen{
  position:fixed;
  inset:0;
  z-index:99999;
  box-shadow:var(--mo-shadow-lg);
  border-radius:0;
  margin:0;
  display:flex;
  flex-direction:column;
}
.moedit.is-fullscreen .moedit-toolbar{
  flex-shrink:0;
}
.moedit-fullscreen-title{
  flex-shrink:0;
  padding:.5rem 1rem;
  font-size:1.25rem;
  font-weight:600;
  border-bottom:1px solid var(--mo-border, #dee2e6);
  background:var(--mo-bg, #fff);
}
.moedit.is-fullscreen .moedit-body{
  flex:1;
  min-height:0;
  max-height:none;
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
}
.moedit.is-fullscreen .moedit-editor,
.moedit.is-fullscreen .moedit-source{
  min-height:100%;
  max-height:none;
}

/* ============================================
   Modal/Dialog Styles
   ============================================ */

.moedit-modal-overlay{
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background:rgba(0,0,0,0.5);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:100000;
  animation:moedit-fade-in 0.15s ease-out;
}

@keyframes moedit-fade-in{
  from{ opacity:0; }
  to{ opacity:1; }
}

.moedit-modal{
  background:var(--mo-bg);
  color:var(--mo-text);
  border-radius:var(--mo-radius);
  padding:1.25rem;
  width:min(400px, 90vw);
  max-width:min(500px, 95vw);
  box-shadow:var(--mo-shadow-lg);
  border:1px solid var(--mo-border);
  animation:moedit-slide-up 0.2s ease-out;
  box-sizing:border-box;
}

.moedit-modal-sm{
  width:min(300px, 90vw);
  max-width:min(350px, 95vw);
}

.moedit-modal-lg{
  width:min(500px, 90vw);
  max-width:min(700px, 95vw);
}

@keyframes moedit-slide-up{
  from{ 
    opacity:0;
    transform:translateY(10px);
  }
  to{ 
    opacity:1;
    transform:translateY(0);
  }
}

.moedit-modal-title{
  margin:0 0 1rem 0;
  font-size:1rem;
  font-weight:600;
  display:flex;
  align-items:center;
  gap:0.5rem;
}

.moedit-modal-desc{
  margin:0 0 0.75rem 0;
  font-size:0.875rem;
  color:var(--mo-placeholder);
}

.moedit-modal-field{
  margin-bottom:0.875rem;
}

.moedit-modal-label{
  display:block;
  margin-bottom:0.25rem;
  font-size:0.875rem;
  font-weight:500;
}

.moedit-modal-hint{
  color:var(--mo-placeholder);
  font-size:0.75rem;
  font-weight:normal;
}

.moedit-modal-input{
  width:100%;
  padding:0.5rem 0.75rem;
  border:1px solid var(--mo-border);
  border-radius:var(--mo-radius);
  font-size:0.875rem;
  background:var(--mo-bg);
  color:var(--mo-text);
  box-sizing:border-box;
  transition:border-color 0.15s,box-shadow 0.15s;
}

.moedit-modal-input:focus{
  outline:0;
  border-color:var(--mo-primary);
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.25);
}

.moedit-modal-input-readonly{
  background:var(--mo-soft);
  cursor:default;
}

.moedit-modal-textarea{
  width:100%;
  padding:0.75rem;
  border:1px solid var(--mo-border);
  border-radius:var(--mo-radius);
  font-size:0.875rem;
  background:var(--mo-bg);
  color:var(--mo-text);
  box-sizing:border-box;
  resize:vertical;
  min-height:200px;
  font-family:inherit;
  line-height:1.6;
  transition:border-color 0.15s,box-shadow 0.15s;
}

.moedit-modal-textarea:focus{
  outline:0;
  border-color:var(--mo-primary);
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.25);
}

.moedit-modal-file-input{
  display:flex;
  gap:0.5rem;
  align-items:center;
}

.moedit-modal-file-input .moedit-modal-input{
  flex:1;
}

.moedit-modal-preview{
  margin-bottom:1rem;
  text-align:center;
}

.moedit-modal-preview img{
  max-width:100%;
  max-height:200px;
  border-radius:var(--mo-radius);
  border:1px solid var(--mo-border);
}

.moedit-modal-tabs{
  display:flex;
  gap:0.25rem;
  margin-bottom:1rem;
  border-bottom:1px solid var(--mo-border);
  padding-bottom:0;
}

.moedit-modal-tab{
  padding:0.5rem 1rem;
  border:none;
  background:transparent;
  color:var(--mo-placeholder);
  font-size:0.875rem;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:0.375rem;
  border-bottom:2px solid transparent;
  margin-bottom:-1px;
  transition:all 0.15s ease-in-out;
  font-family:inherit;
}

.moedit-modal-tab:hover{
  color:var(--mo-text);
  background:var(--mo-soft);
}

.moedit-modal-tab-active{
  color:var(--mo-primary);
  border-bottom-color:var(--mo-primary);
}

.moedit-modal-tab-active:hover{
  color:var(--mo-primary);
  background:transparent;
}

.moedit-modal-tab:disabled{
  opacity:0.5;
  cursor:not-allowed;
}

.moedit-modal-tab-content{
  min-height:100px;
}

.moedit-modal-radio-group{
  display:flex;
  gap:1rem;
  margin-bottom:0.5rem;
}

.moedit-modal-radio{
  display:flex;
  align-items:center;
  gap:0.375rem;
  cursor:pointer;
  font-size:0.875rem;
}

.moedit-modal-radio input[type="radio"]{
  margin:0;
  cursor:pointer;
}

.moedit-modal-buttons{
  display:flex;
  gap:0.625rem;
  justify-content:flex-end;
  margin-top:1rem;
}

.moedit-modal-btn{
  padding:0.5rem 1rem;
  border-radius:var(--mo-radius);
  font-size:0.875rem;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:0.375rem;
  transition:all 0.15s ease-in-out;
  border:1px solid transparent;
  font-family:inherit;
}

.moedit-modal-btn-primary{
  background:var(--mo-primary);
  color:#fff;
  border-color:var(--mo-primary);
}

.moedit-modal-btn-primary:hover{
  background:var(--mo-primary-hover);
  border-color:var(--mo-primary-hover);
}

.moedit-modal-btn-secondary{
  background:var(--mo-soft);
  color:var(--mo-text);
  border-color:var(--mo-border);
}

.moedit-modal-btn-secondary:hover{
  background:var(--mo-btn-hover);
}

.moedit-modal-btn-success{
  background:#198754;
  color:#fff;
  border-color:#198754;
}

.moedit-modal-btn-success:hover{
  background:#157347;
  border-color:#146c43;
}

.moedit-modal-btn-info{
  background:#0dcaf0;
  color:#000;
  border-color:#0dcaf0;
}

.moedit-modal-btn-info:hover{
  background:#31d2f2;
  border-color:#25cff2;
}

.moedit-modal-btn-danger{
  background:#dc3545;
  color:#fff;
  border-color:#dc3545;
}

.moedit-modal-btn-danger:hover{
  background:#bb2d3b;
  border-color:#b02a37;
}

.moedit-modal-btn-disabled{
  opacity:0.5;
  cursor:not-allowed;
  pointer-events:none;
}

/* Disabled button states - :disabled псевдо-класс ашиглан */
.moedit-modal-btn:disabled,
.moedit-modal-btn[disabled]{
  opacity:0.5;
  cursor:not-allowed;
  pointer-events:none;
  filter:grayscale(30%);
}

.moedit-modal-btn-primary:disabled,
.moedit-modal-btn-primary[disabled]{
  background:#6c9bd1;
  border-color:#6c9bd1;
}

.moedit-modal-btn-secondary:disabled,
.moedit-modal-btn-secondary[disabled]{
  background:var(--mo-soft);
  color:var(--mo-placeholder);
}

.moedit-modal-btn-success:disabled,
.moedit-modal-btn-success[disabled]{
  background:#5cb085;
  border-color:#5cb085;
}

.moedit-modal-btn-info:disabled,
.moedit-modal-btn-info[disabled]{
  background:#7dd8f3;
  border-color:#7dd8f3;
}

.moedit-modal-btn-danger:disabled,
.moedit-modal-btn-danger[disabled]{
  background:#dc7c7c;
  border-color:#dc7c7c;
}

/* ============================================
   Responsive - Mobile/Tablet
   ============================================ */

@media (max-width: 576px) {
  .moedit-toolbar{
    gap:0.125rem;
    padding:0.375rem;
  }

  .moedit-btn{
    padding:0.25rem 0.5rem;
    min-width:1.75rem;
    height:1.75rem;
    font-size:0.8125rem;
  }

  .moedit-select{
    padding:0.25rem 0.5rem;
    min-width:3rem;
    height:1.75rem;
    font-size:0.8125rem;
  }

  .moedit-color{
    width:1.75rem;
    height:1.75rem;
  }

  .moedit-sep{
    height:1.25rem;
    margin:0 0.25rem;
    border-left-width:1px;
  }

  .moedit-group{
    gap:0.125rem;
  }

  .moedit-body{
    min-height:200px;
  }

  .moedit-editor,
  .moedit-source{
    padding:0.75rem;
    min-height:200px;
  }

  .moedit-modal{
    padding:1rem;
    margin:0.5rem;
    border-radius:var(--mo-radius);
  }

  .moedit-modal-title{
    font-size:0.9375rem;
  }

  .moedit-modal-buttons{
    flex-direction:column;
    gap:0.5rem;
  }

  .moedit-modal-btn{
    width:100%;
    justify-content:center;
  }

  .moedit-modal-file-input{
    flex-direction:column;
  }

  .moedit-modal-file-input .moedit-modal-input{
    width:100%;
  }

  .moedit-modal-radio-group{
    flex-direction:column;
    gap:0.5rem;
  }

  /* Fullscreen дээр toolbar scroll хийх */
  .moedit.is-fullscreen .moedit-toolbar{
    overflow-x:auto;
    flex-wrap:nowrap;
    -webkit-overflow-scrolling:touch;
    flex-shrink:0;
  }
}

@media (max-width: 768px) and (min-width: 577px) {
  .moedit-toolbar{
    gap:0.1875rem;
  }

  .moedit-btn{
    padding:0.3125rem 0.625rem;
    min-width:1.875rem;
    height:1.875rem;
  }

  .moedit-modal-buttons{
    flex-wrap:wrap;
  }
}

/* ============================================
   Header Image - Толгой зураг
   ============================================ */

.moedit-header-image{
  position:relative;
  width:100%;
  min-height:80px;
  background-color:#e8e8e8;
  background-image:linear-gradient(45deg,#d5d5d5 25%,transparent 25%,transparent 75%,#d5d5d5 75%),linear-gradient(45deg,#d5d5d5 25%,transparent 25%,transparent 75%,#d5d5d5 75%);
  background-size:16px 16px;
  background-position:0 0,8px 8px;
  border:1px solid var(--mo-border);
  border-bottom:none;
  border-radius:var(--mo-radius) var(--mo-radius) 0 0;
  overflow:hidden;
}

.moedit-header-image-preview{
  display:block;
  width:100%;
  max-height:360px;
  object-fit:contain;
}

.moedit-header-image-overlay{
  position:absolute;
  top:0.5rem;
  right:0.5rem;
  display:flex;
  gap:0.25rem;
  opacity:0;
  transition:opacity 0.2s ease;
}

.moedit-header-image:hover .moedit-header-image-overlay{
  opacity:1;
}

/* Зураг алдаатай (404) үед */
.moedit-header-image-error{
  background:repeating-linear-gradient(
    45deg,
    var(--mo-bg),
    var(--mo-bg) 10px,
    var(--mo-border) 10px,
    var(--mo-border) 20px
  );
}
.moedit-header-image-error .moedit-header-image-preview{
  visibility:hidden;
}
.moedit-header-image-error .moedit-header-image-overlay{
  opacity:1;
}

.moedit-header-image-change,
.moedit-header-image-remove{
  width:2rem;
  height:2rem;
  border:none;
  border-radius:var(--mo-radius);
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:0.875rem;
  transition:transform 0.1s ease;
}

.moedit-header-image-change{
  background:var(--mo-primary);
  color:#fff;
}

.moedit-header-image-remove{
  background:#dc3545;
  color:#fff;
}

.moedit-header-image-change:hover,
.moedit-header-image-remove:hover{
  transform:scale(1.1);
}

/* Header image байхад toolbar-ийн дээд border-radius устгах */
.moedit-header-image + .moedit-toolbar{
  border-radius:0;
}

/* Header image байхад body-ийн border-radius засах */
.moedit:has(.moedit-header-image[style*="block"]) .moedit-toolbar{
  border-top-left-radius:0;
  border-top-right-radius:0;
}

/* ============================================
   Right Toolbar Layout (Desktop only)
   Mobile-д дээр, Desktop-д баруун талд
   ============================================ */

/* Desktop (768px+) дээр баруун талд toolbar */
@media (min-width: 768px) {
  .moedit.moedit-toolbar-right{
    display:flex;
    flex-direction:row;
    flex-wrap:nowrap;
  }

  /* Content wrapper - зүүн талд, flex-grow */
  .moedit.moedit-toolbar-right .moedit-content{
    order:1;
    flex:1;
    display:flex;
    flex-direction:column;
    min-width:0;
    border-right:1px solid var(--mo-border);
  }

  /* Toolbar - баруун талд */
  .moedit.moedit-toolbar-right .moedit-toolbar{
    order:2;
    flex-direction:row;
    flex-wrap:wrap;
    width:10.75rem;
    min-width:10.75rem;
    border-bottom:none;
    border-left:none;
    padding:0.5rem;
    overflow-y:auto;
    align-items:flex-start;
    align-content:flex-start;
    gap:0.25rem;
    background:#e2e6ea;
  }

  /* Header image - content дотор */
  .moedit.moedit-toolbar-right .moedit-header-image{
    border:none;
    border-radius:0;
    border-bottom:1px solid var(--mo-border);
  }

  /* Body - content дотор, flex-grow */
  .moedit.moedit-toolbar-right .moedit-body{
    flex:1;
    max-height:none;
    min-height:350px;
  }

  /* Button groups - 4 эгнээ */
  .moedit.moedit-toolbar-right .moedit-group{
    display:flex;
    flex-direction:row;
    flex-wrap:wrap;
    width:100%;
    gap:0.25rem;
    margin:0;
    padding:0;
  }

  /* Buttons - 4 эгнээнд багтах */
  .moedit.moedit-toolbar-right .moedit-btn{
    width:2.25rem;
    height:2.25rem;
    padding:0.25rem;
    font-size:1rem;
    flex:0 0 auto;
  }
  .moedit.moedit-toolbar-right .moedit-btn[aria-pressed="true"]{
    background:var(--mo-primary);
    color:#fff;
    border-color:var(--mo-primary);
  }
  .moedit.moedit-toolbar-right .moedit-btn[aria-pressed="true"]:hover{
    background:var(--mo-primary-hover);
    border-color:var(--mo-primary-hover);
  }

  /* Separator бүтэн өргөн */
  .moedit.moedit-toolbar-right .moedit-sep{
    width:100%;
    height:0;
    border-left:none;
    border-top:1px solid #ced4da;
    margin:0.375rem 0;
    flex-shrink:0;
  }

  /* Select нуух, list select харуулах */
  .moedit.moedit-toolbar-right .moedit-select{
    display:none;
  }
  /* Color picker - бүтэн өргөн */
  .moedit.moedit-toolbar-right .moedit-color{
    width:100%;
    height:2.25rem;
  }
  .moedit.moedit-toolbar-right .moedit-list-select{
    display:flex;
    flex-wrap:wrap;
    width:100%;
    gap:0.25rem;
    padding:0;
    margin:0;
  }
  .moedit.moedit-toolbar-right .moedit-list-label{
    width:100%;
    font-size:0.625rem;
    color:var(--mo-placeholder);
    text-transform:uppercase;
    letter-spacing:0.5px;
    padding-bottom:0.125rem;
    border-bottom:1px solid var(--mo-border);
    margin-bottom:0.125rem;
  }
  .moedit.moedit-toolbar-right .moedit-list-select .moedit-btn{
    width:2.25rem;
    height:2.25rem;
    font-size:0.8125rem;
    font-weight:500;
  }
  .moedit.moedit-toolbar-right .moedit-list-select .moedit-btn.is-active{
    background:var(--mo-primary);
    color:#fff;
  }
  /* Default товчууд (P, 3) - сонгогдоогүй үед ч ялгаатай харагдах */
  .moedit.moedit-toolbar-right .moedit-list-select .moedit-btn.is-default:not(.is-active){
    border:1px dashed var(--mo-primary);
    color:var(--mo-primary);
    font-weight:600;
  }

  /* Header image товч - бүтэн өргөн, том */
  .moedit.moedit-toolbar-right .moedit-group-header-image.is-visible{
    display:flex !important;
    width:100%;
  }
  .moedit.moedit-toolbar-right .moedit-group-header-image.is-visible .moedit-btn{
    width:100%;
    height:2.8125rem;
    font-size:1.125rem;
  }
  .moedit.moedit-toolbar-right .moedit-sep-header-image.is-visible{
    display:block !important;
  }
  /* Readonly горимд header image group болон separator нуух */
  .moedit.moedit-readonly.moedit-toolbar-right .moedit-group-header-image,
  .moedit.moedit-readonly.moedit-toolbar-right .moedit-sep-header-image{
    display:none !important;
  }
}

