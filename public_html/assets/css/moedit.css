:root{
  --mo-border:#dee2e6;
  --mo-bg:#fff;
  --mo-soft:#f8f9fa;
  --mo-text:#212529;
  --mo-primary:#0d6efd;
  --mo-primary-hover:#0b5ed7;
  --mo-shadow:0 0.125rem 0.25rem rgba(0,0,0,.075);
  --mo-shadow-lg:0 0.5rem 1rem rgba(0,0,0,.15);
  --mo-radius:0.375rem;
  --mo-btn-bg:#fff;
  --mo-btn-hover:#e9ecef;
  --mo-source-bg:#f8f9fa;
  --mo-source-focus:#fff;
  --mo-placeholder:#6c757d;
}

/* Bootstrap 5.3+ dark mode support */
[data-bs-theme="dark"]{
  --mo-border:#495057;
  --mo-bg:#212529;
  --mo-soft:#343a40;
  --mo-text:#e9ecef;
  --mo-primary:#0d6efd;
  --mo-primary-hover:#3d8bfd;
  --mo-shadow:0 0.125rem 0.25rem rgba(0,0,0,.25);
  --mo-shadow-lg:0 0.5rem 1rem rgba(0,0,0,.35);
  --mo-btn-bg:#343a40;
  --mo-btn-hover:#495057;
  --mo-source-bg:#2b3035;
  --mo-source-focus:#343a40;
  --mo-placeholder:#adb5bd;
}

.moedit{
  border:1px solid var(--mo-border);
  border-radius:var(--mo-radius);
  overflow:hidden;
  background:var(--mo-bg);
  color:var(--mo-text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  box-shadow:var(--mo-shadow);
}

.moedit-toolbar{
  display:flex;
  flex-wrap:wrap;
  gap:0.25rem;
  align-items:center;
  padding:0.5rem;
  background:var(--mo-soft);
  border-bottom:1px solid var(--mo-border);
}

.moedit-group{ 
  display:flex; 
  gap:0.25rem; 
  align-items:center; 
}

.moedit-btn{
  appearance:none;
  border:1px solid var(--mo-border);
  background:var(--mo-btn-bg);
  color:var(--mo-text);
  padding:0.375rem 0.75rem;
  border-radius:var(--mo-radius);
  cursor:pointer;
  font-size:0.875rem;
  line-height:1.5;
  user-select:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:0.375rem;
  transition:all 0.15s ease-in-out;
  min-width:2rem;
  height:2rem;
}
.moedit-btn:hover{
  background-color:var(--mo-btn-hover);
  border-color:var(--mo-border);
  transform:translateY(-1px);
  box-shadow:var(--mo-shadow);
}
.moedit-btn:active{ 
  transform:translateY(0);
  box-shadow:none;
}
.moedit-btn[disabled]{ 
  opacity:0.65; 
  cursor:not-allowed;
  pointer-events:none;
}
.moedit-btn[aria-pressed="true"]{ 
  background-color:var(--mo-primary);
  color:#fff;
  border-color:var(--mo-primary);
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.25);
}
.moedit-btn[aria-pressed="true"]:hover{
  background-color:var(--mo-primary-hover);
  border-color:var(--mo-primary-hover);
}

/* Keyboard focus styles */
.moedit-btn:focus{
  outline:none;
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.5);
  z-index:1;
  position:relative;
}
.moedit-btn:focus:not(:focus-visible){
  box-shadow:var(--mo-shadow);
}
.moedit-btn:focus-visible{
  outline:none;
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.5);
}
.moedit-btn strong,
.moedit-btn em,
.moedit-btn u,
.moedit-btn s{
  font-weight:inherit;
  font-style:inherit;
  text-decoration:inherit;
  line-height:inherit;
}
.moedit-btn sub,
.moedit-btn sup{
  font-size:0.7em;
  line-height:0;
  position:relative;
  vertical-align:baseline;
}
.moedit-btn sub{
  bottom:-0.25em;
}
.moedit-btn sup{
  top:-0.5em;
}

.moedit-select{
  border:1px solid var(--mo-border);
  background:var(--mo-btn-bg);
  color:var(--mo-text);
  border-radius:var(--mo-radius);
  padding:0.375rem 0.75rem;
  font-size:0.875rem;
  cursor:pointer;
  transition:all 0.15s ease-in-out;
  min-width:4rem;
  height:2rem;
}
.moedit-select:hover{
  background-color:var(--mo-btn-hover);
  border-color:var(--mo-border);
}
.moedit-color{
  border:1px solid var(--mo-border);
  border-radius:var(--mo-radius);
  padding:0;
  cursor:pointer;
  width:2rem;
  height:2rem;
  transition:all 0.15s ease-in-out;
}
.moedit-color:hover{
  border-color:var(--mo-border);
  box-shadow:var(--mo-shadow);
}
.moedit-color:focus{
  outline:none;
  border-color:var(--mo-primary);
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.5);
}
.moedit-select:focus{
  outline:none;
  border-color:var(--mo-primary);
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.5);
  z-index:1;
  position:relative;
}

.moedit-sep{
  width:1px;
  height:1.5rem;
  background:var(--mo-border);
  margin:0 0.25rem;
  flex-shrink:0;
}

.moedit-body{ 
  position:relative; 
  min-height:300px;
  max-height:600px;
  overflow-y:auto;
}

.moedit-editor{
  padding:1rem;
  min-height:300px;
  outline:none;
  line-height:1.6;
}
.moedit-editor:focus{
  outline:none;
}
.moedit-editor:empty:before{
  content:attr(data-placeholder);
  color:var(--mo-placeholder);
  pointer-events:none;
}
.moedit-editor img{
  max-width:100%;
  height:auto;
  border-radius:var(--mo-radius);
}
.moedit-editor table{
  width:100%;
  border-collapse:collapse;
  margin:1rem 0;
}
.moedit-editor table td,
.moedit-editor table th{
  padding:0.5rem;
  border:1px solid var(--mo-border);
}
.moedit-editor blockquote{
  margin:1rem 0;
  padding:0.75rem 1rem;
  border-left:4px solid var(--mo-primary);
  background:var(--mo-soft);
  border-radius:0 var(--mo-radius) var(--mo-radius) 0;
  font-style:italic;
  color:var(--mo-text);
}
.moedit-editor pre{
  margin:1rem 0;
  padding:1rem;
  background:var(--mo-soft);
  border:1px solid var(--mo-border);
  border-radius:var(--mo-radius);
  font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono",monospace;
  font-size:0.875rem;
  overflow-x:auto;
  white-space:pre-wrap;
  word-wrap:break-word;
}

.moedit-source{
  display:none;
  width:100%;
  border:0;
  resize:vertical;
  padding:1rem;
  min-height:300px;
  font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono",monospace;
  font-size:0.875rem;
  outline:none;
  line-height:1.6;
  background:var(--mo-source-bg);
  color:var(--mo-text);
}
.moedit-source:focus{
  outline:none;
  background:var(--mo-source-focus);
}

.moedit.is-source .moedit-editor{ display:none; }
.moedit.is-source .moedit-source{ display:block; }

/* Fullscreen */
.moedit.is-fullscreen{
  position:fixed;
  inset:0;
  z-index:99999;
  box-shadow:var(--mo-shadow-lg);
  border-radius:0;
  margin:0;
}
.moedit.is-fullscreen .moedit-body,
.moedit.is-fullscreen .moedit-editor,
.moedit.is-fullscreen .moedit-source{
  min-height:calc(100vh - 60px);
  max-height:none;
}

/* ============================================
   Modal/Dialog Styles
   ============================================ */

.moedit-modal-overlay{
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background:rgba(0,0,0,0.5);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:100000;
  animation:moedit-fade-in 0.15s ease-out;
}

@keyframes moedit-fade-in{
  from{ opacity:0; }
  to{ opacity:1; }
}

.moedit-modal{
  background:var(--mo-bg);
  color:var(--mo-text);
  border-radius:var(--mo-radius);
  padding:1.25rem;
  width:min(400px, 90vw);
  max-width:min(500px, 95vw);
  box-shadow:var(--mo-shadow-lg);
  border:1px solid var(--mo-border);
  animation:moedit-slide-up 0.2s ease-out;
  box-sizing:border-box;
}

.moedit-modal-sm{
  width:min(300px, 90vw);
  max-width:min(350px, 95vw);
}

.moedit-modal-lg{
  width:min(500px, 90vw);
  max-width:min(700px, 95vw);
}

@keyframes moedit-slide-up{
  from{ 
    opacity:0;
    transform:translateY(10px);
  }
  to{ 
    opacity:1;
    transform:translateY(0);
  }
}

.moedit-modal-title{
  margin:0 0 1rem 0;
  font-size:1rem;
  font-weight:600;
  display:flex;
  align-items:center;
  gap:0.5rem;
}

.moedit-modal-desc{
  margin:0 0 0.75rem 0;
  font-size:0.875rem;
  color:var(--mo-placeholder);
}

.moedit-modal-field{
  margin-bottom:0.875rem;
}

.moedit-modal-label{
  display:block;
  margin-bottom:0.25rem;
  font-size:0.875rem;
  font-weight:500;
}

.moedit-modal-hint{
  color:var(--mo-placeholder);
  font-size:0.75rem;
  font-weight:normal;
}

.moedit-modal-input{
  width:100%;
  padding:0.5rem 0.75rem;
  border:1px solid var(--mo-border);
  border-radius:var(--mo-radius);
  font-size:0.875rem;
  background:var(--mo-bg);
  color:var(--mo-text);
  box-sizing:border-box;
  transition:border-color 0.15s,box-shadow 0.15s;
}

.moedit-modal-input:focus{
  outline:0;
  border-color:var(--mo-primary);
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.25);
}

.moedit-modal-input-readonly{
  background:var(--mo-soft);
  cursor:default;
}

.moedit-modal-textarea{
  width:100%;
  padding:0.75rem;
  border:1px solid var(--mo-border);
  border-radius:var(--mo-radius);
  font-size:0.875rem;
  background:var(--mo-bg);
  color:var(--mo-text);
  box-sizing:border-box;
  resize:vertical;
  min-height:200px;
  font-family:inherit;
  line-height:1.6;
  transition:border-color 0.15s,box-shadow 0.15s;
}

.moedit-modal-textarea:focus{
  outline:0;
  border-color:var(--mo-primary);
  box-shadow:0 0 0 0.2rem rgba(13,110,253,.25);
}

.moedit-modal-file-input{
  display:flex;
  gap:0.5rem;
  align-items:center;
}

.moedit-modal-file-input .moedit-modal-input{
  flex:1;
}

.moedit-modal-preview{
  margin-bottom:1rem;
  text-align:center;
}

.moedit-modal-preview img{
  max-width:100%;
  max-height:200px;
  border-radius:var(--mo-radius);
  border:1px solid var(--mo-border);
}

.moedit-modal-radio-group{
  display:flex;
  gap:1rem;
  margin-bottom:0.5rem;
}

.moedit-modal-radio{
  display:flex;
  align-items:center;
  gap:0.375rem;
  cursor:pointer;
  font-size:0.875rem;
}

.moedit-modal-radio input[type="radio"]{
  margin:0;
  cursor:pointer;
}

.moedit-modal-buttons{
  display:flex;
  gap:0.625rem;
  justify-content:flex-end;
  margin-top:1rem;
}

.moedit-modal-btn{
  padding:0.5rem 1rem;
  border-radius:var(--mo-radius);
  font-size:0.875rem;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:0.375rem;
  transition:all 0.15s ease-in-out;
  border:1px solid transparent;
  font-family:inherit;
}

.moedit-modal-btn-primary{
  background:var(--mo-primary);
  color:#fff;
  border-color:var(--mo-primary);
}

.moedit-modal-btn-primary:hover{
  background:var(--mo-primary-hover);
  border-color:var(--mo-primary-hover);
}

.moedit-modal-btn-secondary{
  background:var(--mo-soft);
  color:var(--mo-text);
  border-color:var(--mo-border);
}

.moedit-modal-btn-secondary:hover{
  background:var(--mo-btn-hover);
}

.moedit-modal-btn-success{
  background:#198754;
  color:#fff;
  border-color:#198754;
}

.moedit-modal-btn-success:hover{
  background:#157347;
  border-color:#146c43;
}

.moedit-modal-btn-info{
  background:#0dcaf0;
  color:#000;
  border-color:#0dcaf0;
}

.moedit-modal-btn-info:hover{
  background:#31d2f2;
  border-color:#25cff2;
}

.moedit-modal-btn-disabled{
  opacity:0.5;
  cursor:not-allowed;
  pointer-events:none;
}

/* ============================================
   Responsive - Mobile/Tablet
   ============================================ */

@media (max-width: 576px) {
  .moedit-toolbar{
    gap:0.125rem;
    padding:0.375rem;
  }

  .moedit-btn{
    padding:0.25rem 0.5rem;
    min-width:1.75rem;
    height:1.75rem;
    font-size:0.8125rem;
  }

  .moedit-select{
    padding:0.25rem 0.5rem;
    min-width:3rem;
    height:1.75rem;
    font-size:0.8125rem;
  }

  .moedit-color{
    width:1.75rem;
    height:1.75rem;
  }

  .moedit-sep{
    height:1.25rem;
    margin:0 0.125rem;
  }

  .moedit-group{
    gap:0.125rem;
  }

  .moedit-body{
    min-height:200px;
  }

  .moedit-editor,
  .moedit-source{
    padding:0.75rem;
    min-height:200px;
  }

  .moedit-modal{
    padding:1rem;
    margin:0.5rem;
    border-radius:var(--mo-radius);
  }

  .moedit-modal-title{
    font-size:0.9375rem;
  }

  .moedit-modal-buttons{
    flex-direction:column;
    gap:0.5rem;
  }

  .moedit-modal-btn{
    width:100%;
    justify-content:center;
  }

  .moedit-modal-file-input{
    flex-direction:column;
  }

  .moedit-modal-file-input .moedit-modal-input{
    width:100%;
  }

  .moedit-modal-radio-group{
    flex-direction:column;
    gap:0.5rem;
  }

  /* Fullscreen дээр toolbar scroll хийх */
  .moedit.is-fullscreen .moedit-toolbar{
    overflow-x:auto;
    flex-wrap:nowrap;
    -webkit-overflow-scrolling:touch;
  }

  .moedit.is-fullscreen .moedit-body,
  .moedit.is-fullscreen .moedit-editor,
  .moedit.is-fullscreen .moedit-source{
    min-height:calc(100vh - 50px);
  }
}

@media (max-width: 768px) and (min-width: 577px) {
  .moedit-toolbar{
    gap:0.1875rem;
  }

  .moedit-btn{
    padding:0.3125rem 0.625rem;
    min-width:1.875rem;
    height:1.875rem;
  }

  .moedit-modal-buttons{
    flex-wrap:wrap;
  }
}
